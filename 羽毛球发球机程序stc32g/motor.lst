C251 COMPILER V5.60.0,  motor                                                              31/07/23  21:13:12  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE motor
OBJECT MODULE PLACED IN motor.obj
COMPILER INVOKED BY: D:\Software\Worksoftware\Keil5_C251\C251\BIN\C251.EXE motor\motor.c XSMALL INTR2 WARNINGLEVEL(1) BR
                    -OWSE INCDIR(.\OLED;.\timer;.\GPIO;.\PWM;.\Encoders;.\iic;.\Uart;.\Menu;.\motor;.\ADC;.\LineFollower;.\MPU6050;.\Key) DEB
                    -UG PRINT(.\motor.lst) TABS(2) OBJECT(motor.obj) 

stmt  level    source

    1          #include "motor.h"
    2          
    3          void Motor_Init(void) //电机初始化
    4          {
    5   1        PWMA_Config(); //configure the PWM
    6   1        MotorL_Forward();
    7   1        MotorR_Forward();
    8   1      }
    9          
   10          void MotorL_Forward(void) //右边电机正转
   11          {
   12   1        MOTOR_BIN1 = 0;
   13   1        MOTOR_BIN2 = 1;
   14   1      }
   15          
   16          void MotorL_Reverse(void) //右边电机反转
   17          {
   18   1        MOTOR_BIN1 = 1;
   19   1        MOTOR_BIN2 = 0;
   20   1      }
   21          
   22          void MotorR_Forward(void) //左边电机正转
   23          {
   24   1        MOTOR_AIN1 = 0;
   25   1        MOTOR_AIN2 = 1;
   26   1      }
   27          
   28          void MotorR_Reverse(void) //左边电机反转
   29          {
   30   1        MOTOR_AIN1 = 1;
   31   1        MOTOR_AIN2 = 0;
   32   1      }
   33          
   34          /*
   35          When motor1 >= 0, the motor1 is forware, otherwise the motor1 is reverse
   36          When motor2 >= 0, the motor2 is forware, otherwise the motor2 is reverse
   37          当pwm大于0时，电机正转 小于0时， 电机反转
   38          */
   39          
   40          void Motor_FRcontrol(int motor1, int motor2)
   41          {
   42   1        if(motor1 >= 0)
   43   1        {
   44   2          MOTOR_AIN1 = 0; //Forward motor1(电机1正转)
   45   2          MOTOR_AIN2 = 1;
   46   2        }
   47   1        else 
   48   1        {
   49   2          MOTOR_AIN1 = 1; //Forward motor1(电机1反转)
   50   2          MOTOR_AIN2 = 0;
   51   2        }
   52   1        
   53   1        if(motor2 >= 0)
   54   1        {
   55   2          MOTOR_BIN1 = 0; //Forward motor2(电机2正转)
   56   2          MOTOR_BIN2 = 1;
   57   2        }
C251 COMPILER V5.60.0,  motor                                                              31/07/23  21:13:12  PAGE 2   

   58   1        else 
   59   1        {
   60   2          MOTOR_BIN1 = 1; //Forward motor2(电机2反转)
   61   2          MOTOR_BIN2 = 0;
   62   2        }
   63   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =        61     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
