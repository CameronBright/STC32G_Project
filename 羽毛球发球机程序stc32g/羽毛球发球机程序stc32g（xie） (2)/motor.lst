C251 COMPILER V5.60.0,  motor                                                              04/08/23  12:54:06  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE motor
OBJECT MODULE PLACED IN motor.obj
COMPILER INVOKED BY: C:\Keil_v5\C251\BIN\C251.EXE motor\motor.c XSMALL INTR2 WARNINGLEVEL(1) BROWSE INCDIR(.\OLED;.\time
                    -r;.\GPIO;.\PWM;.\Encoders;.\iic;.\motor;.\ADC;.\LineFollower;.\MPU6050;.\Key;.\Wave;.\Uart;.\SYN6288) DEBUG PRINT(.\moto
                    -r.lst) TABS(2) OBJECT(motor.obj) 

stmt  level    source

    1          #include "motor.h"
    2          #include "pwm_init.h"
    3          
    4          
    5          void Motor_Init(void) //电机初始化
    6          {
    7   1        PWM_Config();
    8   1        MotorL_Forward();
    9   1        MotorR_Forward();
   10   1      }
   11          
   12          void MotorL_Forward(void) //右边电机正转
   13          {
   14   1        MOTOR_BIN1 = 0;
   15   1        MOTOR_BIN2 = 1;
   16   1      }
   17          
   18          void MotorL_Reverse(void) //右边电机反转
   19          {
   20   1        MOTOR_BIN1 = 1;
   21   1        MOTOR_BIN2 = 0;
   22   1      }
   23          
   24          void MotorR_Forward(void) //左边电机正转
   25          {
   26   1        MOTOR_AIN1 = 0;
   27   1        MOTOR_AIN2 = 1;
   28   1      }
   29          
   30          void MotorR_Reverse(void) //左边电机反转
   31          {
   32   1        MOTOR_AIN1 = 1;
   33   1        MOTOR_AIN2 = 0;
   34   1      }
   35          
   36          /*
   37          When motor1 >= 0, the motor1 is forware, otherwise the motor1 is reverse
   38          When motor2 >= 0, the motor2 is forware, otherwise the motor2 is reverse
   39          当pwm大于0时，电机正转 小于0时， 电机反转
   40          */
   41          
   42          void Motor_FRcontrol(int motor1, int motor2)
   43          {
   44   1        if(motor1 >= 0)
   45   1        {
   46   2          MOTOR_AIN1 = 0; //Forward motor1(电机1正转)
   47   2          MOTOR_AIN2 = 1;
   48   2        }
   49   1        else 
   50   1        {
   51   2          MOTOR_AIN1 = 1; //Forward motor1(电机1反转)
   52   2          MOTOR_AIN2 = 0;
   53   2        }
   54   1        
   55   1        if(motor2 >= 0)
   56   1        {
   57   2          MOTOR_BIN1 = 0; //Forward motor2(电机2正转)
C251 COMPILER V5.60.0,  motor                                                              04/08/23  12:54:06  PAGE 2   

   58   2          MOTOR_BIN2 = 1;
   59   2        }
   60   1        else 
   61   1        {
   62   2          MOTOR_BIN1 = 1; //Forward motor2(电机2反转)
   63   2          MOTOR_BIN2 = 0;
   64   2        }
   65   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =        61     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
